name: "Builtins: declare"
cases:
  - name: "Dump a var"
    stdin: |
      declare myvar=something
      declare -p myvar

  - name: "Declare integer"
    known_failure: true
    stdin: |
      declare -i num=10
      echo $num
      num+=10
      echo $num

  - name: "Declare readonly variable"
    known_failure: true
    stdin: |
      declare -r var="readonly"
      echo $var
      var="change"

  - name: "Declare array"
    known_failure: true
    stdin: |
      declare -a arr=("element1" "element2" "element3")
      echo ${arr[*]}

  - name: "Declare and export variable"
    stdin: |
      declare -x myexportedvar="exported variable"
      env | grep myexportedvar

name: "Redirection"
cases:
  - name: "Redirection to null"
    stdin: |
      echo hi >/dev/null

  - name: "Output redirection to file"
    stdin: |
      echo hi >out.txt
      ls out.txt
      cat out.txt

  - name: "Output redirection to file (append)"
    stdin: |
      echo hi >>out.txt
      echo there >>out.txt
      ls out.txt
      cat out.txt

  - name: "Redirection to fd"
    stdin: |
      echo hi >&2

  - name: "Process substitution: input"
    expected_failure: true
    stdin: |
      shopt -u -o posix
      cat <(echo hi)

  - name: "Process substitution: input + output"
    expected_failure: true
    stdin: |
      shopt -u -o posix
      cp <(echo hi) >(cat)

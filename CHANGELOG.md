# Changelog

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

All notable changes to this project will be documented in this file.

## [0.2.14] - 2025-01-10

### üöÄ Features

- *(prompts)* Enable PS0, custom right-side prompts, more ([#278](https://github.com/reubeno/brush/pull/278))
- *(completion)* Programmable completion support for filters + commands
- *(non-posix)* Implement `time` keyword ([#310](https://github.com/reubeno/brush/pull/310))
- *(builtins)* Implement suspend ([#311](https://github.com/reubeno/brush/pull/311))
- *(set)* Implement nullglob option ([#279](https://github.com/reubeno/brush/pull/279))
- *(set)* Implement nocaseglob + nocasematch options ([#282](https://github.com/reubeno/brush/pull/282))
- *(builtins)* Add minimal mapfile + bind impls
- *(debug)* Improved function tracing capabilities
- *(options)* Implement lastpipe option
- Implement brace expansion ([#290](https://github.com/reubeno/brush/pull/290))
- *(options)* Implement noclobber option (a.k.a. -C) ([#291](https://github.com/reubeno/brush/pull/291))
- *(builtins)* Implement more of kill builtin ([#305](https://github.com/reubeno/brush/pull/305))
- *(builtins)* Implement times builtin ([#309](https://github.com/reubeno/brush/pull/309))

### üêõ Bug Fixes

- Correct sh mode vs posix mode confusion for syntax extensions
- Assorted non-fatal clippy warnings ([#274](https://github.com/reubeno/brush/pull/274))
- *(builtins)* Correct behavior of set builtin with no args
- More consistently honor shell options when invoking the tokenizer
- Update COMP_WORDBREAKS default value
- Honor extglob for expansion transformations
- Sync PWD with actual workdir on launch
- *(jobs)* Only report job status when job control option is enabled ([#306](https://github.com/reubeno/brush/pull/306))
- Stop incorrectly parsing assignment as function def ([#273](https://github.com/reubeno/brush/pull/273))
- Multiple issues blocking docker cmd completion ([#275](https://github.com/reubeno/brush/pull/275))
- Improve substring ops with multi-byte chars ([#280](https://github.com/reubeno/brush/pull/280))
- Better handle escape chars in pattern bracket exprs ([#281](https://github.com/reubeno/brush/pull/281))
- *(completion)* Multiple fixes for compgen builtin usage
- *(regex)* Work around incompatibilities between shell + rust regexes
- *(extendedtests)* Add missing arithmetic eval in extended tests
- *(command)* Handle sending basic command errors to redirected stderr
- Improve accuracy of negative extglobs
- Implement date and time in prompts ([#298](https://github.com/reubeno/brush/pull/298))
- *(completion)* Handle -o {default,dirnames,plusdirs} ([#300](https://github.com/reubeno/brush/pull/300))
- *(expansion)* Correct length for 1-element arrays ([#316](https://github.com/reubeno/brush/pull/316))
- Correct issues with `!` extglobs and compgen -X ([#317](https://github.com/reubeno/brush/pull/317))

### üìö Documentation

- Update README to reflect test expansion

### ‚ö° Performance

- Cache parsing for arithmetic expressions ([#301](https://github.com/reubeno/brush/pull/301))
- Remove unneeded async from arithmetic eval ([#312](https://github.com/reubeno/brush/pull/312))
- Remove setup operations from microbenchmarks ([#307](https://github.com/reubeno/brush/pull/307))
- Reimplement colon command as a "simple builtin" ([#315](https://github.com/reubeno/brush/pull/315))

### üß™ Testing

- *(completion)* Add another completion test
- *(completion)* Enable use of pexpect et al. with basic input backend

### ‚öôÔ∏è Miscellaneous Tasks

- Update comments
- Improve tracing for completion function invocation
- Remove unneeded helper code
- Address warnings ([#313](https://github.com/reubeno/brush/pull/313))

### Build

- *(deps)* Bump the cargo group with 3 updates ([#285](https://github.com/reubeno/brush/pull/285))
- *(deps)* Bump the cargo group with 4 updates ([#289](https://github.com/reubeno/brush/pull/289))
- *(deps)* Bump the cargo group with 3 updates ([#294](https://github.com/reubeno/brush/pull/294))
- *(deps)* Bump anyhow from 1.0.94 to 1.0.95 in the cargo group ([#297](https://github.com/reubeno/brush/pull/297))
- *(deps)* Bump the cargo group with 2 updates ([#299](https://github.com/reubeno/brush/pull/299))
- *(deps)* Bump the cargo group with 2 updates ([#304](https://github.com/reubeno/brush/pull/304))

<!-- generated by git-cliff -->
## [0.2.13] - 2024-11-26

### üöÄ Features

- *(ast)* Derive `PartialEq` and `Eq` for testing ([#259](https://github.com/reubeno/brush/pull/259))

### üêõ Bug Fixes

- Correct parsing of parens in arithmetic command ([#270](https://github.com/reubeno/brush/pull/270))

### ‚öôÔ∏è Miscellaneous Tasks

- Upgrade dependencies ([#271](https://github.com/reubeno/brush/pull/271))

### Build

- *(deps)* Bump the cargo group with 3 updates ([#258](https://github.com/reubeno/brush/pull/258))
- *(deps)* Bump the cargo group with 7 updates ([#267](https://github.com/reubeno/brush/pull/267))

<!-- generated by git-cliff -->
## [0.2.12] - 2024-11-03

### üöÄ Features

- Implement support for ;;& and ;& in case items ([#223](https://github.com/reubeno/brush/pull/223))
- Implement `|&` extension ([#240](https://github.com/reubeno/brush/pull/240))
- Implement `kill -l` ([#221](https://github.com/reubeno/brush/pull/221))
- Implement `|&` for function declarations ([#244](https://github.com/reubeno/brush/pull/244))

### üêõ Bug Fixes

- Omit dirs from executable searches ([#236](https://github.com/reubeno/brush/pull/236))
- Handle PS2 prompts that require prompt-expansion ([#239](https://github.com/reubeno/brush/pull/239))
- Allow usually-operator chars in regex parens ([#224](https://github.com/reubeno/brush/pull/224))
- Assorted correctness issues in getopts builtin ([#225](https://github.com/reubeno/brush/pull/225))
- Assorted completion-related issues ([#226](https://github.com/reubeno/brush/pull/226))
- String replacement with slashes ([#231](https://github.com/reubeno/brush/pull/231))
- Correct pattern removal expansions on arrays ([#232](https://github.com/reubeno/brush/pull/232))
- *(completion)* Fix -- handling in getopts ([#235](https://github.com/reubeno/brush/pull/235))
- *(completion)* Correct behavior of slice past end of array ([#237](https://github.com/reubeno/brush/pull/237))
- Support here documents in command substitutions ([#255](https://github.com/reubeno/brush/pull/255))

### üß™ Testing

- Run completion tests using bash-completion 2.14.0 ([#238](https://github.com/reubeno/brush/pull/238))
- Add os-targeted integration tests ([#241](https://github.com/reubeno/brush/pull/241))

### ‚öôÔ∏è Miscellaneous Tasks

- Upgrade crate dependencies ([#247](https://github.com/reubeno/brush/pull/247))

### Build

- *(deps)* Bump the cargo group with 2 updates ([#220](https://github.com/reubeno/brush/pull/220))

<!-- generated by git-cliff -->
## [0.2.11] - 2024-10-18

### üöÄ Features

- Experimentally enable reedline as an input backend ([#186](https://github.com/reubeno/brush/pull/186))
- Default to reedline and add syntax highlighting support ([#187](https://github.com/reubeno/brush/pull/187))
- Add a panic handler via human-panic ([#191](https://github.com/reubeno/brush/pull/191))
- Several fixes for bash-completion + tests ([#192](https://github.com/reubeno/brush/pull/192))
- Implement `cd -` ([#201](https://github.com/reubeno/brush/pull/201))
- Implement command hashing ([#206](https://github.com/reubeno/brush/pull/206))

### üêõ Bug Fixes

- Deduplicate completion candidates ([#189](https://github.com/reubeno/brush/pull/189))
- Cleanup transient completion variables ([#213](https://github.com/reubeno/brush/pull/213))
- Allow newlines in extended test exprs ([#188](https://github.com/reubeno/brush/pull/188))
- Fixes for short-circuit precedence + parameter expr replacement ([#193](https://github.com/reubeno/brush/pull/193))
- Workarounds for edge word parsing cases ([#194](https://github.com/reubeno/brush/pull/194))
- Assorted completion issues with ~ and vars ([#199](https://github.com/reubeno/brush/pull/199))
- Slight compat improvements to set -x ([#205](https://github.com/reubeno/brush/pull/205))
- Matching newline chars in glob patterns ([#207](https://github.com/reubeno/brush/pull/207))
- Honor IFS in read builtin ([#208](https://github.com/reubeno/brush/pull/208))
- Correct behavior of break in arithmetic for loop ([#210](https://github.com/reubeno/brush/pull/210))
- Address issues with array unset ([#211](https://github.com/reubeno/brush/pull/211))
- Handle expansion in here documents ([#212](https://github.com/reubeno/brush/pull/212))

### üìö Documentation

- Update readme ([#182](https://github.com/reubeno/brush/pull/182))
- Update readme with new links ([#204](https://github.com/reubeno/brush/pull/204))

### üß™ Testing

- Enable setting min oracle version on tests ([#184](https://github.com/reubeno/brush/pull/184))

### ‚öôÔ∏è Miscellaneous Tasks

- Where possible replace `async-trait` with native async trait support in 1.75+ ([#197](https://github.com/reubeno/brush/pull/197))

### Build

- *(deps)* Bump futures from 0.3.30 to 0.3.31 in the cargo group ([#190](https://github.com/reubeno/brush/pull/190))
- Leave rustyline disabled by default ([#196](https://github.com/reubeno/brush/pull/196))
- *(deps)* Bump the cargo group with 4 updates ([#203](https://github.com/reubeno/brush/pull/203))
- Remove rustyline support ([#216](https://github.com/reubeno/brush/pull/216))

<!-- generated by git-cliff -->
## [0.2.10] - 2024-09-30

### üêõ Bug Fixes

- Allow source to be used with process substitution ([#175](https://github.com/reubeno/brush/pull/175))
- Address multiple issues with foreground controls for pipeline commands ([#180](https://github.com/reubeno/brush/pull/180))

### üß™ Testing

- Move to cargo nextest ([#176](https://github.com/reubeno/brush/pull/176))
- Correctly report skipped tests for nextest ([#178](https://github.com/reubeno/brush/pull/178))
- Convert more test skips to known failures ([#179](https://github.com/reubeno/brush/pull/179))

### Build

- *(deps)* Bump the cargo group with 2 updates ([#177](https://github.com/reubeno/brush/pull/177))

<!-- generated by git-cliff -->
## [0.2.9] - 2024-09-26

### üöÄ Features

- Launch processes in their own process groups ([#166](https://github.com/reubeno/brush/pull/166))

### üêõ Bug Fixes

- Posix compliant argument parsing for `-c` mode ([#147](https://github.com/reubeno/brush/pull/147))

### üß™ Testing

- Add more basic interactive tests ([#168](https://github.com/reubeno/brush/pull/168))
- Bring up macos testing ([#172](https://github.com/reubeno/brush/pull/172))

### Build

- *(deps)* Bump thiserror from 1.0.63 to 1.0.64 in the cargo group ([#167](https://github.com/reubeno/brush/pull/167))
- Temporarily disable failing test ([#170](https://github.com/reubeno/brush/pull/170))
- Refactor PR workflow to better support multi-platform build + test ([#169](https://github.com/reubeno/brush/pull/169))

<!-- generated by git-cliff -->
## [0.2.8] - 2024-09-17

### üêõ Bug Fixes

- Implement ~USER syntax ([#160](https://github.com/reubeno/brush/pull/160))
- Compgen needs to expand target arg ([#162](https://github.com/reubeno/brush/pull/162))
- Do not invoke debug traps during completion funcs ([#163](https://github.com/reubeno/brush/pull/163))
- Disable flaky test until it can be root-caused

### üìö Documentation

- Generate man page via xtask ([#157](https://github.com/reubeno/brush/pull/157))

### ‚ö° Performance

- Short-term optimization for common-case printf

### ‚öôÔ∏è Miscellaneous Tasks

- Extract InteractiveShell as trait + refactor ([#159](https://github.com/reubeno/brush/pull/159))

### Build

- *(deps)* Bump tokio from 1.39.3 to 1.40.0 in the cargo group ([#156](https://github.com/reubeno/brush/pull/156))
- *(deps)* Bump the cargo group with 6 updates ([#158](https://github.com/reubeno/brush/pull/158))
- *(deps)* Bump the cargo group with 2 updates ([#161](https://github.com/reubeno/brush/pull/161))

<!-- generated by git-cliff -->
## [0.2.7] - 2024-09-01

### üöÄ Features

- Move MSRV up to 1.75.0 ([#139](https://github.com/reubeno/brush/pull/139))

### üêõ Bug Fixes

- Correct echo -e escape expansion for \x sequences ([#143](https://github.com/reubeno/brush/pull/143))
- Disable displaying tracing target ([#140](https://github.com/reubeno/brush/pull/140))
- Correct multiple issues with process substitution + redirection ([#145](https://github.com/reubeno/brush/pull/145))

### Build

- *(deps)* Bump tokio from 1.39.1 to 1.39.2 in the cargo group ([#141](https://github.com/reubeno/brush/pull/141))
- *(deps)* Bump the cargo group with 3 updates ([#148](https://github.com/reubeno/brush/pull/148))
- *(deps)* Bump serde from 1.0.204 to 1.0.206 in the cargo group ([#150](https://github.com/reubeno/brush/pull/150))
- *(deps)* Bump the cargo group with 2 updates ([#152](https://github.com/reubeno/brush/pull/152))
- *(deps)* Bump serde from 1.0.208 to 1.0.209 in the cargo group ([#154](https://github.com/reubeno/brush/pull/154))

<!-- generated by git-cliff -->
## [0.2.6] - 2024-07-23

### üêõ Bug Fixes

- Correct relative path resolution cases
- Relative path completion fixes ([#137](https://github.com/reubeno/brush/pull/137))

<!-- generated by git-cliff -->
## [0.2.5] - 2024-07-23

### üêõ Bug Fixes

- Build error outside git ([#134](https://github.com/reubeno/brush/pull/134))

### Build

- *(deps)* Bump the cargo group with 2 updates ([#133](https://github.com/reubeno/brush/pull/133))

<!-- generated by git-cliff -->
## [0.2.4] - 2024-07-19

### üöÄ Features

- Initial support for non-linux
- Enable simpler builtins implemented outside brush ([#130](https://github.com/reubeno/brush/pull/130))
- Get building on windows and wasm-wasip1 targets ([#116](https://github.com/reubeno/brush/pull/116))
- Add brushctl builtin, seed with event toggling support

### üêõ Bug Fixes

- Absorb breaking change in homedir crate
- Clippy and check warnings ([#123](https://github.com/reubeno/brush/pull/123))
- Correct completion fallback logic when spec matches but 0 results ([#125](https://github.com/reubeno/brush/pull/125))
- Various build warnings on windows build ([#126](https://github.com/reubeno/brush/pull/126))
- Exclude tags from git version info ([#115](https://github.com/reubeno/brush/pull/115))

### üìö Documentation

- Update readme ([#127](https://github.com/reubeno/brush/pull/127))

### ‚öôÔ∏è Miscellaneous Tasks

- Merge builtin and builtins modules
- Update comments ([#129](https://github.com/reubeno/brush/pull/129))

### Build

- *(deps)* Bump the cargo group across 1 directory with 5 updates

<!-- generated by git-cliff -->
## [0.2.3] - 2024-07-03

### üöÄ Features

- Enable -O and +O on command line (#105)
- Start using cargo-fuzz for testing (#106)
- Enable fuzz-testing arithmetic eval (#108)
- Include more details in version info (#112)

### üêõ Bug Fixes

- Correct expansion when PWD is / (#96)
- Ensure parser error actually impls Error (#98)
- Realign newline parsing with spec (#99)
- Correct handling of unterminated expansions (#101)
- Add &>> implementation (#103)
- Correct metadata for fuzz crate (#107)
- Resolve assorted arithmetic eval issues (#110)
- Correct ** overflow behavior (#111)

### ‚öôÔ∏è Miscellaneous Tasks

- Update Cargo.lock (#113)
- Release

### Build

- Take targeted dependency updates (#93)
- Update config (#97)

## [0.2.2] - 2024-06-19

### üöÄ Features

- Implement 'command' builtin (#77)
- Add stubs for help man page generation
- Fill out read builtin impl
- Rework here doc files (#85)
- Set + validate intentional MSRV (1.72.0) (#86)
- Add basic changelog
- Add basic changelog (#87)

### üêõ Bug Fixes

- Compgen -W expansion (#78)
- Don't split completions that aren't file paths (#79)
- Allow interrupting read builtin, run pipeline cmds in subshell (#81)
- Add missing flush calls
- Tweak manifests to work with release flow (#89)
- Ensure brush-core builds outside workspace (#90)

### üìö Documentation

- Add crate shields to readme (#74)
- Add missing code documentation

### ‚öôÔ∏è Miscellaneous Tasks

- *(release)* Bump version to 0.2.0 (#88)

### Build

- Update dependencies
- Adjust clippy warnings

## [0.1.0] - 2024-06-11

### Build

- Prepare for initial release (#68)
- Enable publishing (#71)

<!-- generated by git-cliff -->
